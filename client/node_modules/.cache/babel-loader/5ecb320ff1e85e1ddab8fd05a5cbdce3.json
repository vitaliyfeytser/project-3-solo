{"ast":null,"code":"var _jsxFileName = \"/Users/Vitaliy/Desktop/my-projects/project-3-solo/client/src/components/SignInStuff/LoginModal.js\";\nimport React, { Component } from \"react\";\nimport Button from 'react-bootstrap/Button';\nimport Modal from 'react-bootstrap/Modal';\n\nclass LoginModal extends Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.onSubmit = e => {\n      e.preventDefault();\n      API.login(this.state).then(res => {\n        localStorage.setItem(\"current_user_token\", res.data.token);\n        this.props.update(res.data);\n      }).then(() => this.props.history.push(\"/Dashboard\")).catch(err => console.log(err));\n    };\n\n    this.onChange = key => e => this.setState({\n      [key]: e.target.value\n    });\n\n    this.handleShow = this.handleShow.bind(this);\n    this.handleClose = this.handleClose.bind(this);\n    this.state = {\n      show: false,\n      email: \"\",\n      password: \"\",\n      error: \"\"\n    };\n  }\n\n  handleClose() {\n    this.setState({\n      show: false\n    });\n  }\n\n  handleShow() {\n    this.setState({\n      show: true\n    });\n  }\n\n  componentDidMount() {\n    const token = localStorage.getItem(\"current_user_token\");\n\n    if (token) {\n      API.validateToken(token).then(() => this.props.history.push(\"/Dashboard\")).catch(() => localStorage.removeItem(\"current_user_token\"));\n    }\n  }\n\n  render() {\n    return React.createElement(React.Fragment, null, React.createElement(Button, {\n      className: \"NavBtns\" // href=\"/login\"\n      ,\n      variant: \"light\",\n      onClick: this.handleShow,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, \"LOG IN\"), React.createElement(Modal, {\n      show: this.state.show,\n      onHide: this.handleClose,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(Modal.Header, {\n      closeButton: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        width: \"100%\",\n        display: \"flex\",\n        justifyContent: \"space-between\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(Modal.Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \"New to the club?\"), React.createElement(Button, {\n      style: {\n        float: \"right\"\n      },\n      variant: \"outline-primary\",\n      size: \"sm\",\n      onClick: this.handleClose,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, \"Sign up!\"))), React.createElement(Modal.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \"Woohoo, you're reading this text in a modal!\", React.createElement(Form, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      controlId: \"formBasicEmail\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, \"Email address\"), React.createElement(Form.Control, {\n      type: \"email\",\n      placeholder: \"Enter email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }), React.createElement(Form.Text, {\n      className: \"text-muted\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"We'll never share your email with anyone else.\")), React.createElement(Form.Group, {\n      controlId: \"formBasicPassword\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"Password\"), React.createElement(Form.Control, {\n      type: \"password\",\n      placeholder: \"Password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    })), React.createElement(Form.Group, {\n      controlId: \"formBasicChecbox\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(Form.Check, {\n      type: \"checkbox\",\n      label: \"Check me out\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    })), React.createElement(Button, {\n      variant: \"primary\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"Submit\"))), React.createElement(Modal.Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"secondary\",\n      onClick: this.handleClose,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, \"Close\"), React.createElement(Button, {\n      variant: \"primary\",\n      onClick: this.handleClose,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, \"Save Changes\"))));\n  }\n\n}\n\nexport default LoginModal;","map":{"version":3,"sources":["/Users/Vitaliy/Desktop/my-projects/project-3-solo/client/src/components/SignInStuff/LoginModal.js"],"names":["React","Component","Button","Modal","LoginModal","constructor","props","context","onSubmit","e","preventDefault","API","login","state","then","res","localStorage","setItem","data","token","update","history","push","catch","err","console","log","onChange","key","setState","target","value","handleShow","bind","handleClose","show","email","password","error","componentDidMount","getItem","validateToken","removeItem","render","width","display","justifyContent","float"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\"\n\nimport Button from 'react-bootstrap/Button';\nimport Modal from 'react-bootstrap/Modal';\n\n\nclass LoginModal extends Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.handleShow = this.handleShow.bind(this);\n    this.handleClose = this.handleClose.bind(this);\n\n    this.state = {\n      show: false,\n      email: \"\",\n      password: \"\",\n      error: \"\"\n    };\n  }\n\n  handleClose() {\n    this.setState({ show: false });\n  }\n\n  handleShow() {\n    this.setState({ show: true });\n  }\n\n  componentDidMount() {\n    const token = localStorage.getItem(\"current_user_token\");\n\n    if (token) {\n      API.validateToken(token)\n        .then(() => this.props.history.push(\"/Dashboard\"))\n        .catch(() => localStorage.removeItem(\"current_user_token\"));\n    }\n  }\n\n  onSubmit = e => {\n    e.preventDefault();\n\n    API.login(this.state)\n      .then(res => {\n        localStorage.setItem(\"current_user_token\", res.data.token);\n        this.props.update(res.data);\n      })\n      .then(() => this.props.history.push(\"/Dashboard\"))\n      .catch(err => console.log(err));\n  };\n\n  onChange = key => e => this.setState({ [key]: e.target.value });\n\n  render() {\n    return (\n      <>\n        <Button\n          className=\"NavBtns\"\n          // href=\"/login\"\n          variant=\"light\"\n          onClick={this.handleShow}\n        >LOG IN\n        </Button>\n\n        <Modal show={this.state.show} onHide={this.handleClose}>\n          <Modal.Header closeButton>\n            <div style={{ width: \"100%\", display: \"flex\", justifyContent: \"space-between\" }} >\n              <Modal.Title>New to the club?</Modal.Title>\n              <Button\n                style={{ float: \"right\" }}\n                variant=\"outline-primary\"\n                size=\"sm\"\n                onClick={this.handleClose}\n              >\n                Sign up!\n            </Button>\n            </div>\n          </Modal.Header>\n          <Modal.Body>Woohoo, you're reading this text in a modal!\n            <Form>\n              <Form.Group controlId=\"formBasicEmail\">\n                <Form.Label>Email address</Form.Label>\n                <Form.Control type=\"email\" placeholder=\"Enter email\" />\n                <Form.Text className=\"text-muted\">\n                  We'll never share your email with anyone else.\n                </Form.Text>\n              </Form.Group>\n\n              <Form.Group controlId=\"formBasicPassword\">\n                <Form.Label>Password</Form.Label>\n                <Form.Control type=\"password\" placeholder=\"Password\" />\n              </Form.Group>\n              <Form.Group controlId=\"formBasicChecbox\">\n                <Form.Check type=\"checkbox\" label=\"Check me out\" />\n              </Form.Group>\n              <Button variant=\"primary\" type=\"submit\">\n                Submit\n              </Button>\n            </Form>\n          </Modal.Body>\n          <Modal.Footer>\n            <Button variant=\"secondary\" onClick={this.handleClose}>\n              Close\n            </Button>\n            <Button variant=\"primary\" onClick={this.handleClose}>\n              Save Changes\n            </Button>\n          </Modal.Footer>\n        </Modal>\n      </>\n    );\n  }\n}\n\n\nexport default LoginModal"]},"metadata":{},"sourceType":"module"}