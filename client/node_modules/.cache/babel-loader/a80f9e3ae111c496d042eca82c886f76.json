{"ast":null,"code":"var _jsxFileName = \"/Users/Vitaliy/Desktop/my-projects/project-3-solo/client/src/App.js\";\nimport React, { Component } from 'react';\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport './styles/styles.css';\nimport NavComponent from './components/NavComponent/NavComponent';\nimport SignUpForm from './components/SignInStuff/SignUpForm';\nimport SignInForm from './components/SignInStuff/SignInForm';\nimport PromotedSection from './components/PromotedSection/PromotedSection';\nimport JoinClubSection from './components/JoinClubSection/JoinClubSection';\nimport UserAccountSection from './components/UserAccountSection/UserAccountSection';\nimport API from './utils/API';\n\nconst moment = require(\"moment\");\n\nmoment().format();\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      promotedBooks: [{\n        index: 0,\n        id: 1,\n        cover: \"./images/hb.jpeg\",\n        title: \"First title\",\n        caption: \"First caption\",\n        monthPromoted: \"06-05-2019\",\n        faved: false,\n        clicked: false\n      }, {\n        index: 1,\n        id: 2,\n        cover: \"./images/ks.jpeg\",\n        title: \"Second title\",\n        caption: \"Second caption\",\n        monthPromoted: \"06-05-2019\",\n        faved: false,\n        clicked: false\n      }, {\n        index: 2,\n        id: 3,\n        cover: \"./images/yp.jpeg\",\n        title: \"Third title\",\n        caption: \"Third caption\",\n        monthPromoted: \"06-05-2019\",\n        faved: false,\n        clicked: false\n      }],\n      favedBooks: [{\n        id: 1,\n        cover: \"./images/yp.jpeg\",\n        title: \"First title\",\n        author: \"First author\"\n      }, {\n        id: 2,\n        cover: \"./images/ks.jpeg\",\n        title: \"Second title\",\n        author: \"Second author\"\n      }, {\n        id: 3,\n        cover: \"./images/hb.jpeg\",\n        title: \"Third title\",\n        author: \"Third author\"\n      }, {\n        id: 4,\n        cover: \"./images/yp.jpeg\",\n        title: \"Fourth title\",\n        author: \"Fourth author\"\n      }, {\n        id: 5,\n        cover: \"./images/hb.jpeg\",\n        title: \"Fifth title is really long, to check how it would be displayed in a rare case\",\n        author: \"Third author\"\n      }, {\n        id: 6,\n        cover: \"./images/yp.jpeg\",\n        title: \"Sixth title\",\n        author: \"Fourth author\"\n      }],\n      userEmail: \"some@email.com\",\n      userName: \"Someone Famous\",\n      activeClubs: [{\n        id: 1,\n        cover: \"./images/yp.jpeg\",\n        title: \"First title\",\n        time: \"Someday @ O'clock\",\n        location: \"First title\",\n        members: ['Bobbie Joe', 'Mary Sue', 'John Smith', 'Carry Smith', 'Michael Bolton', 'Yo Momma', 'Jesus Himself']\n      }, {\n        id: 2,\n        cover: \"./images/hb.jpeg\",\n        title: \"Second title\",\n        time: \"Someday @ O'clock\",\n        location: \"Second title\",\n        members: ['Bobbie Joe', 'Mary Sue', 'John Smith', 'Carry Smith', 'Michael Bolton', 'Yo Momma', 'Jesus Himself']\n      }, {\n        id: 3,\n        cover: \"./images/yp.jpeg\",\n        title: \"Third title\",\n        time: \"Someday @ O'clock\",\n        location: \"Third title\",\n        members: ['Bobbie Joe', 'Mary Sue', 'John Smith', 'Carry Smith', 'Michael Bolton', 'Yo Momma', 'Jesus Himself']\n      }, {\n        id: 4,\n        cover: \"./images/ks.jpeg\",\n        title: \"Fourth title\",\n        time: \"Someday @ O'clock\",\n        location: \"Fourth title\",\n        members: ['Bobbie Joe', 'Mary Sue', 'John Smith', 'Carry Smith', 'Michael Bolton', 'Yo Momma', 'Jesus Himself']\n      }],\n      readers: [],\n      isLoggedIn: true,\n      loggedInName: \"Bataliy Feystermeyster\",\n      loggedInEmail: \"bataliy@faster.com\",\n      clubCount: 999,\n      promotedBookMonthToDisplay: \"06-01-2019\",\n      displayThreePromoted: [{\n        index: 0,\n        id: 1,\n        cover: \"./images/hb.jpeg\",\n        title: \"First title\",\n        caption: \"First caption\",\n        monthPromoted: \"06-05-2019\",\n        faved: false,\n        clicked: false\n      }, {\n        index: 1,\n        id: 2,\n        cover: \"./images/ks.jpeg\",\n        title: \"Second title\",\n        caption: \"Second caption\",\n        monthPromoted: \"06-05-2019\",\n        faved: false,\n        clicked: false\n      }, {\n        index: 2,\n        id: 3,\n        cover: \"./images/yp.jpeg\",\n        title: \"Third title\",\n        caption: \"Third caption\",\n        monthPromoted: \"06-05-2019\",\n        faved: false,\n        clicked: false\n      }]\n    };\n    this.resDataPromoted = [];\n    this.resDataReaders = [];\n\n    this.handleLogin = (reader, email) => {\n      this.setState({\n        isLoggedIn: true,\n        loggedInName: reader,\n        loggedInEmail: email\n      });\n    };\n\n    this.viewThreePromoted = [];\n\n    this.handleThreePromoted = () => {\n      // take promotedBookMonthToDisplay state\n      // filter through promotedBooks for this date\n      // set seperate state view branch and pass as prop\n      // console.log(\"<<<<>>>>> handleThreePromoted\", this.state)\n      console.log(\"<<<<>>>>> handleThreePromoted\", this.state.promotedBooks[0].monthPromoted); // console.log(\"<<<<>>>>> handleThreePromoted\", this.state.readers[0])\n\n      console.log(\"<<<<>>>>> handleThreePromoted\", this.state.readers[0].firstName);\n\n      for (let i = 0; i < this.state.promotedBooks.length; i++) {\n        this.state.promotedBooks[i].monthPromoted === this.state.promotedBookMonthToDisplay ? this.viewThreePromoted.push(this.state.promotedBooks[i]) : console.log(\"not promoted\");\n      }\n\n      this.setState({\n        displayThreePromoted: this.viewThreePromoted\n      }); // Empty this array before next nav click\n\n      this.viewThreePromoted = [];\n    };\n\n    this.handleNextBookState = nextState => {\n      this.setState(prevState => ({\n        displayThreePromoted: nextState\n      }));\n    };\n\n    this.handleMonthChange = arg => {\n      let month;\n\n      if (arg === \"prev\") {\n        month = moment(this.state.promotedBookMonthToDisplay).subtract(1, 'month').format('MM-DD-YYYY');\n        console.log(\"-----prev\");\n      } else if (arg === \"now\") {\n        let date = new Date(),\n            y = date.getFullYear(),\n            m = date.getMonth();\n        let firstDay = new Date(y, m, 1);\n        month = moment(firstDay).format('MM-DD-YYYY');\n        console.log(\"-----now\");\n      } else if (arg === \"next\") {\n        month = moment(this.state.promotedBookMonthToDisplay).add(1, 'month').format('MM-DD-YYYY');\n        console.log(\"-----next\");\n      }\n\n      this.setState({\n        promotedBookMonthToDisplay: month\n      }, this.handleThreePromoted); // console.log(\"after: \", this.state.promotedBookMonthToDisplay)\n    };\n  }\n\n  componentDidMount() {\n    // This API call gets all of the promoted books from the database\n    API.getPromotedBooks().then(res => {\n      console.log(\"getPromotedBooks res.data\", res.data); // This array holds all properly formatted promotedBooks objects for state\n      // let resData = []\n\n      for (let i = 0; i < res.data.length; i++) {\n        let promoted = {\n          index: res.data[i].id - 1,\n          id: res.data[i].id,\n          cover: res.data[i].coverImage,\n          title: res.data[i].title,\n          caption: res.data[i].caption,\n          monthPromoted: res.data[i].monthAndYearPromoted,\n          faved: false,\n          clicked: false\n        };\n        this.resDataPromoted.push(promoted);\n      } // console.log(\"resData\", resData)\n\n\n      this.setState({\n        promotedBooks: this.resDataPromoted\n      });\n      this.handleThreePromoted();\n    }); // This API call gets all of the readers from the database\n\n    API.getReaders().then(res => {\n      console.log(\"getReaders res.data\", res.data); // This object holds all properly formatted readers for state\n      // let resData = []\n\n      for (let i = 0; i < res.data.length; i++) {\n        let reader = {\n          index: res.data[i].id - 1,\n          id: res.data[i].id,\n          firstName: res.data[i].firstName,\n          lastName: res.data[i].lastName,\n          city: res.data[i].city,\n          stateUS: res.data[i].stateUS,\n          gender: res.data[i].gender,\n          ageRange: res.data[i].ageRange,\n          bio: res.data[i].bio,\n          email: res.data[i].email,\n          pass: res.data[i].pass\n        };\n        this.resDataReaders.push(reader);\n      }\n\n      this.setState({\n        readers: this.resDataReaders\n      }, this.handleThreePromoted);\n    }); // this.setState({\n    //   promotedBooks: this.resDataPromoted,\n    //   readers: this.resDataReaders,\n    // });\n    // this.handleThreePromoted()\n  }\n\n  render() {\n    // console.log(\"<<<< this.state.readers[0]: \", this.state.readers[0])\n    // console.log(\"<<<< this.state.promotedBooks[i].monthPromoted: \", this.state.promotedBooks[0].monthPromoted)\n    // console.log(\"<<<<>>>>> handleThreePromoted\", this.state.readers[0].email)\n    return React.createElement(Router, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340\n      },\n      __self: this\n    }, React.createElement(NavComponent, {\n      state: this.state,\n      handleLogin: this.handleLogin,\n      handleMonthChange: this.handleMonthChange,\n      handleThreePromoted: this.handleThreePromoted,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 341\n      },\n      __self: this\n    }), React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 347\n      },\n      __self: this\n    }, React.createElement(Route, {\n      exact: true,\n      path: \"/\",\n      render: routeProps => React.createElement(PromotedSection, Object.assign({}, routeProps, {\n        displayThreePromoted: this.state.displayThreePromoted,\n        HNBS: this.handleNextBookState,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 353\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 349\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/join\",\n      component: JoinClubSection,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 361\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/user\",\n      render: routeProps => React.createElement(UserAccountSection, Object.assign({}, routeProps, {\n        activeClubs: this.state.activeClubs,\n        favedBooks: this.state.favedBooks,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 367\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 363\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/login\",\n      component: SignInForm,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 375\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/signUp\",\n      component: SignUpForm,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 376\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/Vitaliy/Desktop/my-projects/project-3-solo/client/src/App.js"],"names":["React","Component","BrowserRouter","Router","Route","Switch","NavComponent","SignUpForm","SignInForm","PromotedSection","JoinClubSection","UserAccountSection","API","moment","require","format","App","state","promotedBooks","index","id","cover","title","caption","monthPromoted","faved","clicked","favedBooks","author","userEmail","userName","activeClubs","time","location","members","readers","isLoggedIn","loggedInName","loggedInEmail","clubCount","promotedBookMonthToDisplay","displayThreePromoted","resDataPromoted","resDataReaders","handleLogin","reader","email","setState","viewThreePromoted","handleThreePromoted","console","log","firstName","i","length","push","handleNextBookState","nextState","prevState","handleMonthChange","arg","month","subtract","date","Date","y","getFullYear","m","getMonth","firstDay","add","componentDidMount","getPromotedBooks","then","res","data","promoted","coverImage","monthAndYearPromoted","getReaders","lastName","city","stateUS","gender","ageRange","bio","pass","render","routeProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\n\nimport './styles/styles.css';\n\nimport NavComponent from './components/NavComponent/NavComponent'\nimport SignUpForm from './components/SignInStuff/SignUpForm'\nimport SignInForm from './components/SignInStuff/SignInForm'\nimport PromotedSection from './components/PromotedSection/PromotedSection'\nimport JoinClubSection from './components/JoinClubSection/JoinClubSection'\nimport UserAccountSection from './components/UserAccountSection/UserAccountSection'\nimport API from './utils/API';\n\nconst moment = require(\"moment\");\nmoment().format();\n\nclass App extends Component {\n\n  state = {\n    promotedBooks: [\n      {\n        index: 0,\n        id: 1,\n        cover: \"./images/hb.jpeg\",\n        title: \"First title\",\n        caption: \"First caption\",\n        monthPromoted: \"06-05-2019\",\n        faved: false,\n        clicked: false\n      },\n      {\n        index: 1,\n        id: 2,\n        cover: \"./images/ks.jpeg\",\n        title: \"Second title\",\n        caption: \"Second caption\",\n        monthPromoted: \"06-05-2019\",\n        faved: false,\n        clicked: false\n      },\n      {\n        index: 2,\n        id: 3,\n        cover: \"./images/yp.jpeg\",\n        title: \"Third title\",\n        caption: \"Third caption\",\n        monthPromoted: \"06-05-2019\",\n        faved: false,\n        clicked: false\n      }\n    ],\n    favedBooks: [\n      {\n        id: 1,\n        cover: \"./images/yp.jpeg\",\n        title: \"First title\",\n        author: \"First author\",\n      },\n      {\n        id: 2,\n        cover: \"./images/ks.jpeg\",\n        title: \"Second title\",\n        author: \"Second author\",\n      },\n      {\n        id: 3,\n        cover: \"./images/hb.jpeg\",\n        title: \"Third title\",\n        author: \"Third author\",\n      },\n      {\n        id: 4,\n        cover: \"./images/yp.jpeg\",\n        title: \"Fourth title\",\n        author: \"Fourth author\",\n      },\n      {\n        id: 5,\n        cover: \"./images/hb.jpeg\",\n        title: \"Fifth title is really long, to check how it would be displayed in a rare case\",\n        author: \"Third author\",\n      },\n      {\n        id: 6,\n        cover: \"./images/yp.jpeg\",\n        title: \"Sixth title\",\n        author: \"Fourth author\",\n      },\n    ],\n    userEmail: \"some@email.com\",\n    userName: \"Someone Famous\",\n    activeClubs: [\n      {\n        id: 1,\n        cover: \"./images/yp.jpeg\",\n        title: \"First title\",\n        time: \"Someday @ O'clock\",\n        location: \"First title\",\n        members:\n          [\n            'Bobbie Joe',\n            'Mary Sue',\n            'John Smith',\n            'Carry Smith',\n            'Michael Bolton',\n            'Yo Momma',\n            'Jesus Himself'\n          ]\n      },\n      {\n        id: 2,\n        cover: \"./images/hb.jpeg\",\n        title: \"Second title\",\n        time: \"Someday @ O'clock\",\n        location: \"Second title\",\n        members:\n          [\n            'Bobbie Joe',\n            'Mary Sue',\n            'John Smith',\n            'Carry Smith',\n            'Michael Bolton',\n            'Yo Momma',\n            'Jesus Himself'\n          ]\n      },\n      {\n        id: 3,\n        cover: \"./images/yp.jpeg\",\n        title: \"Third title\",\n        time: \"Someday @ O'clock\",\n        location: \"Third title\",\n        members:\n          [\n            'Bobbie Joe',\n            'Mary Sue',\n            'John Smith',\n            'Carry Smith',\n            'Michael Bolton',\n            'Yo Momma',\n            'Jesus Himself'\n          ]\n      },\n      {\n        id: 4,\n        cover: \"./images/ks.jpeg\",\n        title: \"Fourth title\",\n        time: \"Someday @ O'clock\",\n        location: \"Fourth title\",\n        members:\n          [\n            'Bobbie Joe',\n            'Mary Sue',\n            'John Smith',\n            'Carry Smith',\n            'Michael Bolton',\n            'Yo Momma',\n            'Jesus Himself'\n          ]\n      },\n    ],\n    readers: [],\n\n    isLoggedIn: true,\n    loggedInName: \"Bataliy Feystermeyster\",\n    loggedInEmail: \"bataliy@faster.com\",\n\n    clubCount: 999,\n    promotedBookMonthToDisplay: \"06-01-2019\",\n    displayThreePromoted: [\n      {\n        index: 0,\n        id: 1,\n        cover: \"./images/hb.jpeg\",\n        title: \"First title\",\n        caption: \"First caption\",\n        monthPromoted: \"06-05-2019\",\n        faved: false,\n        clicked: false\n      },\n      {\n        index: 1,\n        id: 2,\n        cover: \"./images/ks.jpeg\",\n        title: \"Second title\",\n        caption: \"Second caption\",\n        monthPromoted: \"06-05-2019\",\n        faved: false,\n        clicked: false\n      },\n      {\n        index: 2,\n        id: 3,\n        cover: \"./images/yp.jpeg\",\n        title: \"Third title\",\n        caption: \"Third caption\",\n        monthPromoted: \"06-05-2019\",\n        faved: false,\n        clicked: false\n      }\n    ]\n  }\n\n  \n  resDataPromoted = []\n  resDataReaders = []\n  componentDidMount() {\n    // This API call gets all of the promoted books from the database\n    API.getPromotedBooks()\n      .then(res => {\n        console.log(\"getPromotedBooks res.data\", res.data)\n        // This array holds all properly formatted promotedBooks objects for state\n        // let resData = []\n\n        for (let i = 0; i < res.data.length; i++) {\n          let promoted = {\n            index: res.data[i].id - 1,\n            id: res.data[i].id,\n            cover: res.data[i].coverImage,\n            title: res.data[i].title,\n            caption: res.data[i].caption,\n            monthPromoted: res.data[i].monthAndYearPromoted,\n            faved: false,\n            clicked: false\n          }\n          this.resDataPromoted.push(promoted)\n        }\n        // console.log(\"resData\", resData)\n\n        this.setState({\n          promotedBooks: this.resDataPromoted,\n        });\n        this.handleThreePromoted()\n      });\n    // This API call gets all of the readers from the database\n    API.getReaders()\n      .then(res => {\n        console.log(\"getReaders res.data\", res.data)\n        // This object holds all properly formatted readers for state\n        // let resData = []\n\n        for (let i = 0; i < res.data.length; i++) {\n          let reader = {\n            index: res.data[i].id - 1,\n            id: res.data[i].id,\n            firstName: res.data[i].firstName,\n            lastName: res.data[i].lastName,\n            city: res.data[i].city,\n            stateUS: res.data[i].stateUS,\n            gender: res.data[i].gender,\n            ageRange: res.data[i].ageRange,\n            bio: res.data[i].bio,\n            email: res.data[i].email,\n            pass: res.data[i].pass\n          }\n          this.resDataReaders.push(reader)\n        }\n\n        this.setState({\n          readers: this.resDataReaders,\n        }, this.handleThreePromoted);\n        \n      });\n\n      // this.setState({\n      //   promotedBooks: this.resDataPromoted,\n      //   readers: this.resDataReaders,\n      // });\n      // this.handleThreePromoted()\n  }\n  \n  handleLogin = (reader, email) => {\n    this.setState({ \n      isLoggedIn: true,\n      loggedInName: reader,\n      loggedInEmail: email,\n    })\n  }\n\n  viewThreePromoted = []\n  handleThreePromoted = () => {\n    // take promotedBookMonthToDisplay state\n    // filter through promotedBooks for this date\n    // set seperate state view branch and pass as prop\n\n    // console.log(\"<<<<>>>>> handleThreePromoted\", this.state)\n    console.log(\"<<<<>>>>> handleThreePromoted\", this.state.promotedBooks[0].monthPromoted)\n    // console.log(\"<<<<>>>>> handleThreePromoted\", this.state.readers[0])\n    console.log(\"<<<<>>>>> handleThreePromoted\", this.state.readers[0].firstName)\n    \n    for (let i = 0; i < this.state.promotedBooks.length; i++) {\n      this.state.promotedBooks[i].monthPromoted === this.state.promotedBookMonthToDisplay ? this.viewThreePromoted.push(this.state.promotedBooks[i]) : console.log(\"not promoted\")\n    }\n    this.setState({\n      displayThreePromoted: this.viewThreePromoted,\n    });\n    // Empty this array before next nav click\n    this.viewThreePromoted = []\n\n  }\n\n  // This function changes the 'clicked' boolean value for the corresponding book in the state object\n  handleNextBookState = nextState => {\n    this.setState(prevState => ({ displayThreePromoted: nextState }))\n  }\n\n  // This function sets the month to display in promotedSection component\n  handleMonthChange = (arg) => {\n    let month\n    if (arg === \"prev\") {\n      month = moment(this.state.promotedBookMonthToDisplay).subtract(1, 'month').format('MM-DD-YYYY')\n      console.log(\"-----prev\")\n    }\n    else if (arg === \"now\") {\n      let date = new Date(), y = date.getFullYear(), m = date.getMonth()\n      let firstDay = new Date(y, m, 1)\n      month = moment(firstDay).format('MM-DD-YYYY')\n      console.log(\"-----now\")\n    }\n    else if (arg === \"next\") {\n      month = moment(this.state.promotedBookMonthToDisplay).add(1, 'month').format('MM-DD-YYYY')\n      console.log(\"-----next\")\n    }\n    this.setState({\n      promotedBookMonthToDisplay: month,\n    }, this.handleThreePromoted)\n\n    // console.log(\"after: \", this.state.promotedBookMonthToDisplay)\n  }\n\n\n  render() {\n\n    // console.log(\"<<<< this.state.readers[0]: \", this.state.readers[0])\n    // console.log(\"<<<< this.state.promotedBooks[i].monthPromoted: \", this.state.promotedBooks[0].monthPromoted)\n    // console.log(\"<<<<>>>>> handleThreePromoted\", this.state.readers[0].email)\n\n    return (\n      <Router>\n        <div>\n          <NavComponent\n            state={this.state}\n            handleLogin={this.handleLogin}\n            handleMonthChange={this.handleMonthChange}\n            handleThreePromoted={this.handleThreePromoted}\n          />\n          <Switch>\n\n            <Route\n              exact\n              path=\"/\"\n              render={(routeProps) => (\n                <PromotedSection\n                  {...routeProps}\n                  displayThreePromoted={this.state.displayThreePromoted}\n                  HNBS={this.handleNextBookState}\n                />\n              )}\n            />\n\n            <Route exact path=\"/join\" component={JoinClubSection} />\n\n            <Route\n              exact\n              path=\"/user\"\n              render={(routeProps) => (\n                <UserAccountSection\n                  {...routeProps}\n                  activeClubs={this.state.activeClubs}\n                  favedBooks={this.state.favedBooks}\n                />\n              )}\n            />\n\n            <Route exact path=\"/login\" component={SignInForm} />\n            <Route exact path=\"/signUp\" component={SignUpForm} />\n\n          </Switch>\n        </div>\n      </Router>\n    )\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}