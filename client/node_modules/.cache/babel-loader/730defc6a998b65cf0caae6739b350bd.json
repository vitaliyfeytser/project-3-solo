{"ast":null,"code":"var _jsxFileName = \"/Users/Vitaliy/Desktop/my-projects/project-3-solo/client/src/App.js\";\nimport React, { Component } from 'react';\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport './styles/styles.css';\nimport NavComponent from './components/NavComponent/NavComponent';\nimport SignUpForm from './components/SignInStuff/SignUpForm';\nimport SignInForm from './components/SignInStuff/SignInForm';\nimport PromotedSection from './components/PromotedSection/PromotedSection';\nimport JoinClubSection from './components/JoinClubSection/JoinClubSection';\nimport UserAccountSection from './components/UserAccountSection/UserAccountSection';\nimport API from './utils/API';\n\nconst moment = require(\"moment\");\n\nmoment().format();\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      promotedBooks: [{\n        index: 0,\n        id: 1,\n        cover: \"./images/hb.jpeg\",\n        title: \"First title\",\n        caption: \"First caption\",\n        faved: false,\n        clicked: false\n      }, {\n        index: 1,\n        id: 2,\n        cover: \"./images/ks.jpeg\",\n        title: \"Second title\",\n        caption: \"Second caption\",\n        faved: false,\n        clicked: false\n      }, {\n        index: 2,\n        id: 3,\n        cover: \"./images/yp.jpeg\",\n        title: \"Third title\",\n        caption: \"Third caption\",\n        faved: false,\n        clicked: false\n      }],\n      favedBooks: [{\n        id: 1,\n        cover: \"./images/yp.jpeg\",\n        title: \"First title\",\n        author: \"First author\"\n      }, {\n        id: 2,\n        cover: \"./images/ks.jpeg\",\n        title: \"Second title\",\n        author: \"Second author\"\n      }, {\n        id: 3,\n        cover: \"./images/hb.jpeg\",\n        title: \"Third title\",\n        author: \"Third author\"\n      }, {\n        id: 4,\n        cover: \"./images/yp.jpeg\",\n        title: \"Fourth title\",\n        author: \"Fourth author\"\n      }, {\n        id: 5,\n        cover: \"./images/hb.jpeg\",\n        title: \"Fifth title is really long, to check how it would be displayed in a rare case\",\n        author: \"Third author\"\n      }, {\n        id: 6,\n        cover: \"./images/yp.jpeg\",\n        title: \"Sixth title\",\n        author: \"Fourth author\"\n      }],\n      userEmail: \"some@email.com\",\n      userName: \"Someone Famous\",\n      activeClubs: [{\n        id: 1,\n        cover: \"./images/yp.jpeg\",\n        title: \"First title\",\n        time: \"Someday @ O'clock\",\n        location: \"First title\",\n        members: ['Bobbie Joe', 'Mary Sue', 'John Smith', 'Carry Smith', 'Michael Bolton', 'Yo Momma', 'Jesus Himself']\n      }, {\n        id: 2,\n        cover: \"./images/hb.jpeg\",\n        title: \"Second title\",\n        time: \"Someday @ O'clock\",\n        location: \"Second title\",\n        members: ['Bobbie Joe', 'Mary Sue', 'John Smith', 'Carry Smith', 'Michael Bolton', 'Yo Momma', 'Jesus Himself']\n      }, {\n        id: 3,\n        cover: \"./images/yp.jpeg\",\n        title: \"Third title\",\n        time: \"Someday @ O'clock\",\n        location: \"Third title\",\n        members: ['Bobbie Joe', 'Mary Sue', 'John Smith', 'Carry Smith', 'Michael Bolton', 'Yo Momma', 'Jesus Himself']\n      }, {\n        id: 4,\n        cover: \"./images/ks.jpeg\",\n        title: \"Fourth title\",\n        time: \"Someday @ O'clock\",\n        location: \"Fourth title\",\n        members: ['Bobbie Joe', 'Mary Sue', 'John Smith', 'Carry Smith', 'Michael Bolton', 'Yo Momma', 'Jesus Himself']\n      }],\n      clubCount: 999,\n      promotedBookMonthToDisplay: \"06-2019\",\n      promotedMonthToDisplay: moment(new Date()).format(\"MM\"),\n      promotedYearToDisplay: moment(new Date()).format(\"YYYY\") // handleMonthChange: this.handleMonthChange\n\n    };\n\n    this.handleNextBookState = nextState => {\n      this.setState(prevState => ({\n        promotedBooks: nextState\n      }));\n    };\n\n    this.handleClubCount = () => {};\n\n    this.handleMonthChange = () => {\n      console.log(\"before: \", this.state.promotedBookMonthToDisplay);\n      let month = moment(this.state.promotedBookMonthToDisplay.format('MM-YYYY')).subtract(1, 'month').format('MM-YYYY');\n      this.setState(prevState => ({\n        promotedMonthToDisplay: month // promotedYearToDisplay: year\n\n      }));\n      console.log(\"after: \", this.state.promotedBookMonthToDisplay);\n    };\n  }\n\n  componentDidMount() {\n    console.log(this.state.promotedMonthToDisplay);\n    console.log(this.state.promotedYearToDisplay); // This API call gets all of the promoted books from the database\n\n    API.getPromotedBooks().then(res => {\n      console.log(\"res.data\", res.data); // This array holds all properly formatted promotedBooks objects for state\n\n      let resData = [];\n\n      for (let i = 0; i < res.data.length; i++) {\n        let promoted = {\n          index: res.data[i].id - 1,\n          id: res.data[i].id,\n          cover: res.data[i].coverImage,\n          title: res.data[i].title,\n          caption: res.data[i].caption,\n          monthPromoted: res.data[i].monthAndYearPromoted.slice(0, 2),\n          yearPromoted: res.data[i].monthAndYearPromoted.slice(3, 7),\n          faved: false,\n          clicked: false\n        };\n        resData.push(promoted);\n      }\n\n      console.log(\"resData\", resData);\n      this.setState({\n        promotedBooks: resData\n      });\n    }); // Adjust prop data sent to PromotedSection component to only contain the three book objects corresponding to monthToDisplya const\n  } // This function changes the 'clicked' boolean value for the corresponding book in the state object\n\n\n  render() {\n    // console.log(\"handleMonthChange: \", this.handleMonthChange)\n    return React.createElement(Router, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231\n      },\n      __self: this\n    }, React.createElement(NavComponent, {\n      state: this.state,\n      handleMonthChange: this.handleMonthChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232\n      },\n      __self: this\n    }), React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236\n      },\n      __self: this\n    }, React.createElement(Route, {\n      exact: true,\n      path: \"/\",\n      render: routeProps => React.createElement(PromotedSection, Object.assign({}, routeProps, {\n        promotedBooks: this.state.promotedBooks,\n        HNBS: this.handleNextBookState,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/join\",\n      component: JoinClubSection,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/user\",\n      render: routeProps => React.createElement(UserAccountSection, Object.assign({}, routeProps, {\n        activeClubs: this.state.activeClubs,\n        favedBooks: this.state.favedBooks // HNBS={this.handleNextBookState}\n        ,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/login\",\n      component: SignInForm,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/signUp\",\n      component: SignUpForm,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/Vitaliy/Desktop/my-projects/project-3-solo/client/src/App.js"],"names":["React","Component","BrowserRouter","Router","Route","Switch","NavComponent","SignUpForm","SignInForm","PromotedSection","JoinClubSection","UserAccountSection","API","moment","require","format","App","state","promotedBooks","index","id","cover","title","caption","faved","clicked","favedBooks","author","userEmail","userName","activeClubs","time","location","members","clubCount","promotedBookMonthToDisplay","promotedMonthToDisplay","Date","promotedYearToDisplay","handleNextBookState","nextState","setState","prevState","handleClubCount","handleMonthChange","console","log","month","subtract","componentDidMount","getPromotedBooks","then","res","data","resData","i","length","promoted","coverImage","monthPromoted","monthAndYearPromoted","slice","yearPromoted","push","render","routeProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\n\nimport './styles/styles.css';\n\nimport NavComponent from './components/NavComponent/NavComponent'\nimport SignUpForm from './components/SignInStuff/SignUpForm'\nimport SignInForm from './components/SignInStuff/SignInForm'\nimport PromotedSection from './components/PromotedSection/PromotedSection'\nimport JoinClubSection from './components/JoinClubSection/JoinClubSection'\nimport UserAccountSection from './components/UserAccountSection/UserAccountSection'\nimport API from './utils/API';\n\nconst moment = require(\"moment\");\nmoment().format();\n\nclass App extends Component {\n\n  state = {\n    promotedBooks: [\n      {\n        index: 0,\n        id: 1,\n        cover: \"./images/hb.jpeg\",\n        title: \"First title\",\n        caption: \"First caption\",\n        faved: false,\n        clicked: false\n      },\n      {\n        index: 1,\n        id: 2,\n        cover: \"./images/ks.jpeg\",\n        title: \"Second title\",\n        caption: \"Second caption\",\n        faved: false,\n        clicked: false\n      },\n      {\n        index: 2,\n        id: 3,\n        cover: \"./images/yp.jpeg\",\n        title: \"Third title\",\n        caption: \"Third caption\",\n        faved: false,\n        clicked: false\n      },\n    ],\n    favedBooks: [\n      {\n        id: 1,\n        cover: \"./images/yp.jpeg\",\n        title: \"First title\",\n        author: \"First author\",\n      },\n      {\n        id: 2,\n        cover: \"./images/ks.jpeg\",\n        title: \"Second title\",\n        author: \"Second author\",\n      },\n      {\n        id: 3,\n        cover: \"./images/hb.jpeg\",\n        title: \"Third title\",\n        author: \"Third author\",\n      },\n      {\n        id: 4,\n        cover: \"./images/yp.jpeg\",\n        title: \"Fourth title\",\n        author: \"Fourth author\",\n      },\n      {\n        id: 5,\n        cover: \"./images/hb.jpeg\",\n        title: \"Fifth title is really long, to check how it would be displayed in a rare case\",\n        author: \"Third author\",\n      },\n      {\n        id: 6,\n        cover: \"./images/yp.jpeg\",\n        title: \"Sixth title\",\n        author: \"Fourth author\",\n      },\n    ],\n    userEmail: \"some@email.com\",\n    userName: \"Someone Famous\",\n    activeClubs: [\n      {\n        id: 1,\n        cover: \"./images/yp.jpeg\",\n        title: \"First title\",\n        time: \"Someday @ O'clock\",\n        location: \"First title\",\n        members:\n          [\n            'Bobbie Joe',\n            'Mary Sue',\n            'John Smith',\n            'Carry Smith',\n            'Michael Bolton',\n            'Yo Momma',\n            'Jesus Himself'\n          ]\n      },\n      {\n        id: 2,\n        cover: \"./images/hb.jpeg\",\n        title: \"Second title\",\n        time: \"Someday @ O'clock\",\n        location: \"Second title\",\n        members:\n          [\n            'Bobbie Joe',\n            'Mary Sue',\n            'John Smith',\n            'Carry Smith',\n            'Michael Bolton',\n            'Yo Momma',\n            'Jesus Himself'\n          ]\n      },\n      {\n        id: 3,\n        cover: \"./images/yp.jpeg\",\n        title: \"Third title\",\n        time: \"Someday @ O'clock\",\n        location: \"Third title\",\n        members:\n          [\n            'Bobbie Joe',\n            'Mary Sue',\n            'John Smith',\n            'Carry Smith',\n            'Michael Bolton',\n            'Yo Momma',\n            'Jesus Himself'\n          ]\n      },\n      {\n        id: 4,\n        cover: \"./images/ks.jpeg\",\n        title: \"Fourth title\",\n        time: \"Someday @ O'clock\",\n        location: \"Fourth title\",\n        members:\n          [\n            'Bobbie Joe',\n            'Mary Sue',\n            'John Smith',\n            'Carry Smith',\n            'Michael Bolton',\n            'Yo Momma',\n            'Jesus Himself'\n          ]\n      },\n    ],\n    clubCount: 999,\n    promotedBookMonthToDisplay: \"06-2019\",\n    promotedMonthToDisplay: moment(new Date()).format(\"MM\"),\n    promotedYearToDisplay: moment(new Date()).format(\"YYYY\"),\n    // handleMonthChange: this.handleMonthChange\n\n  }\n\n\n  componentDidMount() {\n    console.log(this.state.promotedMonthToDisplay)\n    console.log(this.state.promotedYearToDisplay)\n    // This API call gets all of the promoted books from the database\n    API.getPromotedBooks()\n      .then(res => {\n        console.log(\"res.data\", res.data)\n        // This array holds all properly formatted promotedBooks objects for state\n        let resData = []\n\n        for (let i = 0; i < res.data.length; i++) {\n          let promoted = {\n            index: res.data[i].id - 1,\n            id: res.data[i].id,\n            cover: res.data[i].coverImage,\n            title: res.data[i].title,\n            caption: res.data[i].caption,\n            monthPromoted: res.data[i].monthAndYearPromoted.slice(0, 2),\n            yearPromoted: res.data[i].monthAndYearPromoted.slice(3, 7),\n            faved: false,\n            clicked: false\n          }\n          resData.push(promoted)\n        }\n        console.log(\"resData\", resData)\n\n        this.setState({\n          promotedBooks: resData\n        });\n      });\n    // Adjust prop data sent to PromotedSection component to only contain the three book objects corresponding to monthToDisplya const\n\n  }\n\n  // This function changes the 'clicked' boolean value for the corresponding book in the state object\n  handleNextBookState = nextState => {\n    this.setState(prevState => ({ promotedBooks: nextState }))\n  }\n\n  handleClubCount = () => {\n\n  }\n\n  handleMonthChange = () => {\n    console.log(\"before: \", this.state.promotedBookMonthToDisplay)\n\n    let month = moment((this.state.promotedBookMonthToDisplay).format('MM-YYYY')).subtract(1, 'month').format('MM-YYYY')\n\n    this.setState(prevState => ({\n      promotedMonthToDisplay: month,\n      // promotedYearToDisplay: year\n    }))\n\n    console.log(\"after: \", this.state.promotedBookMonthToDisplay)\n  }\n\n\n  render() {\n\n    // console.log(\"handleMonthChange: \", this.handleMonthChange)\n\n    return (\n      <Router>\n        <div>\n          <NavComponent\n            state={this.state}\n            handleMonthChange={this.handleMonthChange}\n          />\n          <Switch>\n\n            <Route\n              exact\n              path=\"/\"\n              render={(routeProps) => (\n                <PromotedSection\n                  {...routeProps}\n                  promotedBooks={this.state.promotedBooks}\n                  HNBS={this.handleNextBookState}\n                />\n              )}\n            />\n\n            <Route exact path=\"/join\" component={JoinClubSection} />\n\n            <Route\n              exact\n              path=\"/user\"\n              render={(routeProps) => (\n                <UserAccountSection\n                  {...routeProps}\n                  activeClubs={this.state.activeClubs}\n                  favedBooks={this.state.favedBooks}\n                // HNBS={this.handleNextBookState}\n                />\n              )}\n            />\n\n            <Route exact path=\"/login\" component={SignInForm} />\n            <Route exact path=\"/signUp\" component={SignUpForm} />\n\n          </Switch>\n        </div>\n      </Router>\n    )\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}